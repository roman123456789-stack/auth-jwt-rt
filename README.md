–ë—ç–∫–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ NestJS —Å JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è refresh-—Ç–æ–∫–µ–Ω–æ–≤ –∏ MySQL –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ë–î. –õ–æ–≥–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ ELK (Elasticsearch, Logstash, Kibana) –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

---

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env.['development'/'production']
# –†–µ–∂–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (development / production)
NODE_ENV=development

# –ü–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å NestJS
PORT=3000

# –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ JWT access-—Ç–æ–∫–µ–Ω–æ–≤ (–ª—é–±–∞—è —Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞)
JWT_ACCESS_SECRET=–≤–∞—à_—Å–ª—É—á–∞–π–Ω—ã–π_—Å–µ–∫—Ä–µ—Ç_–∫–ª—é—á

# –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ access-—Ç–æ–∫–µ–Ω–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, 900 = 15 –º–∏–Ω—É—Ç)
JWT_ACCESS_EXPIRES_IN=900

# –ò–∑–¥–∞—Ç–µ–ª—å —Ç–æ–∫–µ–Ω–æ–≤ (–º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º –∏–º–µ–Ω–µ–º)
JWT_ISSUER=myapp-auth-service

# –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ refresh-—Ç–æ–∫–µ–Ω–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1209600 = 7 –¥–Ω–µ–π)
REFRESH_TOKEN_EXPIRES_IN=1209600

# –¢–∏–ø –ë–î
DB_TYPE=mysql

# –•–æ—Å—Ç MySQL (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –∏–º–µ–Ω–µ–º —Å–µ—Ä–≤–∏—Å–∞ –≤ docker-compose)
DB_HOST=mysql

# –ü–æ—Ä—Ç MySQL
DB_PORT=3306

# –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è MySQL
DB_USERNAME=root

# –ü–∞—Ä–æ–ª—å MySQL
DB_PASSWORD=secret_password

# –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DB_NAME=auth_module

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É –ë–î (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!)
DB_SYNC=true

# –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å SQL-–∑–∞–ø—Ä–æ—Å—ã –≤ –ª–æ–≥–∞—Ö (true/false)
DB_LOGGING=false

# –ê–¥—Ä–µ—Å Redis (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –∏–º–µ–Ω–µ–º —Å–µ—Ä–≤–∏—Å–∞ –≤ docker-compose)
REDIS_URL=redis://redis:6379

```bash
$ docker-compose up -d --build
```

## Stay in touch

- Author - [Roman](https://t.me/nee_copirui)
